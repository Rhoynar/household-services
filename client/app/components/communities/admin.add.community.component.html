<top-admin-header></top-admin-header>


<page-title [pagetitle]="pagetitle"></page-title>

<!--inner-mid-sec-->
<div class="inner-mid-sec white-bg">
    <div class="container">
        <div class="row">
            <div class="col-md-12 no-padding dashboard_page">

                <div class="form_block">


                    <form [formGroup]="addCommunityForm" (ngSubmit)="submitForm()">
                        <div class="form-group" [ngClass]="{'has-error':!addCommunityForm.controls['title'].valid && (addCommunityForm.controls['title'].touched  || addCommunityFormSubmit)}">
                            <label class="input-heading">Title :</label>
                            <div class="input-box">
                                <input type="text" name="title" id="title" class="input-fill" [formControl]="addCommunityForm.controls['title']" />

                                <div *ngIf="addCommunityForm.controls['title'].hasError('required') && (addCommunityForm.controls['title'].touched || addCommunityFormSubmit)" class="alert alert-danger">You must include a title.</div>
                            </div>

                        </div>

                        <div class="form-group" [ngClass]="{'has-error':!addCommunityForm.controls['addressLineOne'].valid && (addCommunityForm.controls['addressLineOne'].touched  || addCommunityFormSubmit)}">
                            <label class="input-heading">Address Line One</label>
                            <div class="input-box">
                                <input type="text" name="addressLineOne" id="addressLineOne" class="input-fill" [formControl]="addCommunityForm.controls['addressLineOne']" />

                                <div *ngIf="addCommunityForm.controls['addressLineOne'].hasError('required') && (addCommunityForm.controls['addressLineOne'].touched || addCommunityFormSubmit)" class="alert alert-danger">You must include a Address.</div>
                            </div>

                            
                        </div>

                        <div class="form-group">
                            <label class="input-heading">Address Line Two :</label>
                            <div class="input-box">
                                <input type="text" name="addressLineTwo" id="addressLineTwo" class="input-fill" [formControl]="addCommunityForm.controls['addressLineTwo']" />
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="input-heading">City :</label>
                            <div class="input-box">
                                <input type="text" name="city" id="city" class="input-fill" [formControl]="addCommunityForm.controls['city']" />
                                <div *ngIf="addCommunityForm.controls['city'].hasError('required') && (addCommunityForm.controls['city'].touched  || addCommunityFormSubmit)" class="alert alert-danger">You must include a city.</div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="input-heading">State :</label>
                            <div class="input-box">
                                <input type="text" name="state" id="state" class="input-fill" [formControl]="addCommunityForm.controls['state']" />
                                <div *ngIf="addCommunityForm.controls['state'].hasError('required') && (addCommunityForm.controls['state'].touched  || addCommunityFormSubmit)" class="alert alert-danger">You must include a state.</div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="input-heading">Postcode :</label>
                            <div class="input-box">
                                <input type="text" name="postcode" id="postcode" class="input-fill" [formControl]="addCommunityForm.controls['postcode']" />
                                <div *ngIf="addCommunityForm.controls['postcode'].hasError('required') && (addCommunityForm.controls['postcode'].touched  || addCommunityFormSubmit)" class="alert alert-danger">You must include a Postcode.</div>
                            </div>
                        </div>


                        <div class="form-group">
                            <label class="input-heading">Phone :</label>
                            <div class="input-box">
                                <input type="text" name="phone" id="phone" class="input-fill" [formControl]="addCommunityForm.controls['phone']" />
                                <div *ngIf="addCommunityForm.controls['phone'].hasError('required') && (addCommunityForm.controls['phone'].touched  || addCommunityFormSubmit)" class="alert alert-danger">You must include a phone.</div>
                            </div>
                        </div>

                        <!--<div *ngFor="let services of addCommunityForm.controls['serviceList'].controls; let i=index">
                            <div class="form-group" [formGroup]="services">
                                <label class="input-heading">Service {{i + 1}}</label>
                                <div class="input-box">
                                    
                                    <select class="input-fill" [formControl]="services.controls['service']">
                                        <option value="">Please Select</option>
                                        <option value="{{eachService._id}}" *ngFor="let eachService of availableServices">{{eachService.title}}</option>
                                    </select>
                                    <button type="button" class="bt btn-danger" (click)="removeService(i);">Remove</button>    
                                </div>
                                <div *ngIf="services.controls['service'].hasError('required') && services.controls['service'].touched  || addCommunityFormSubmit)" class="alert alert-danger">You must include a service.</div>
                            </div>
                        </div>
                        <div class="margin-20">
                            <a (click)="addService();">Add another Service +</a>
                        </div>-->

                        <div class="form-group">
                            <label class="input-heading">Community Logo :</label>
                            <div class="input-box" *ngIf="!addCommunityForm.value.commLogo">
                                <input type="file" name="communityLogo" id="communityLogo"  class="input-fill" [formControl]="addCommunityForm.controls['communityLogo']" (change)="fileChangeEvent($event)" />
                                
                                <!--{{this.addCommunityForm.value|json}}-->
                            </div>
                            <div class="input-box" *ngIf="addCommunityForm.value.commLogo">
                                <button type="button" class="sub-btn cancel-btn" (click)="removeLogo();">remove</button>
                                <img src="{{addCommunityForm.value.commLogo}}" style="max-width: 300px;"/>
                                
                                <!--{{this.addCommunityForm.value|json}}-->
                            </div>
                            
                        </div>
                        


                        <div class="form-group btn-wrp">

                            <!--<button class="sub-btn" (click)="updateProfile();">Submit</button>-->
                            <button type="submit" class="sub-btn">Submit</button>
                            <button type="button" class="sub-btn cancel-btn" (click)="communityPage();">Cancel</button>
                            
                        </div>


                    </form>

                </div>




            </div>
        </div>

    </div>
</div>
<!--inner-mid-sec-->

<!--footer-section-->
<footer></footer>
<!--end-footer-section-->