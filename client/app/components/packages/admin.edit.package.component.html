<top-admin-header></top-admin-header>


<page-title [pagetitle]="pagetitle"></page-title>

<!--inner-mid-sec-->
<div class="inner-mid-sec white-bg">
    <div class="container">
        <div class="row">
            <div class="col-md-12 no-padding dashboard_page">

                <div class="form_block">
                    
                    <alert [alertType]="'package-error'"></alert>
                    <form [formGroup]="editPackageForm" (ngSubmit)="submitForm()">
                        <div class="form-group" [ngClass]="{'has-error':!editPackageForm.controls['title'].valid && editPackageForm.controls['title'].touched}">
                            <label class="input-heading">Name :</label>
                            <div class="input-box">
                                <input type="text" name="title" id="title" class="input-fill" [formControl]="editPackageForm.controls['title']" />

                                <div *ngIf="editPackageForm.controls['title'].hasError('required') && editPackageForm.controls['title'].touched" class="alert alert-danger">You must include a title.</div>

                            </div>

                        </div>
                        <div class="form-group" [ngClass]="{'has-error':!editPackageForm.controls['serviceId'].valid && editPackageForm.controls['serviceId'].touched}">
                            <label class="input-heading">Service Type</label>
                            <div class="input-box">

                                <select class="input-fill" [formControl]="editPackageForm.controls['serviceId']">
                                        <option value="">Please Select</option>
                                        <option value="{{eachService._id}}" *ngFor="let eachService of availableServices">{{eachService.title}}</option>
                                </select>

                            </div>
                            <div *ngIf="editPackageForm.controls['serviceId'].hasError('required') && editPackageForm.controls['serviceId'].touched" class="alert alert-danger">You must include a service type.</div>
                        </div>

                        <!--<div class="form-group" [ngClass]="{'has-error':!editPackageForm.controls['communityId'].valid && editPackageForm.controls['communityId'].touched}">
                            <label class="input-heading">Community</label>
                            <div class="input-box">

                                <select class="input-fill" [formControl]="editPackageForm.controls['communityId']">
                                        <option value="">Please Select</option>
                                        <option value="{{eachCommunity._id}}" *ngFor="let eachCommunity of availableCommunity">{{eachCommunity.title}}</option>
                                </select>

                            </div>
                            <div *ngIf="editPackageForm.controls['communityId'].hasError('required') && editPackageForm.controls['communityId'].touched" class="alert alert-danger">You must include a Community.</div>
                        </div>-->

                        <div class="form-group">
                            <label class="input-heading">Price :</label>
                            <div class="input-box">
                                <input type="text" name="price" id="price" class="input-fill" [formControl]="editPackageForm.controls['price']" />

                                <div *ngIf="editPackageForm.controls['price'].hasError('required') && editPackageForm.controls['price'].touched" class="alert alert-danger">You must include a price.</div>


                            </div>
                        </div>
                        <div class="form-group">
                            <label class="input-heading">Postcode :</label>
                            <div class="input-box">
                                <input type="text" name="postcode" id="postcode" class="input-fill" [formControl]="editPackageForm.controls['postcode']" />


                                <div *ngIf="editPackageForm.controls['postcode'].hasError('required') && editPackageForm.controls['postcode'].touched" class="alert alert-danger">You must include a Postcode.</div>


                            </div>
                        </div>

                        <div class="form-group">
                            <label class="input-heading">Frequency :</label>
                            <div class="input-box">
                                <label class="radio-inline">
                                    <input type="radio" [formControl]="editPackageForm.controls['frequency']" id="inlineRadio1" value="daily"> daily
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" [formControl]="editPackageForm.controls['frequency']" id="inlineRadio2" value="monthly"> Monthly
                                </label>
                                <!--<select name="frequency" id="frequency" class="input-fill" [formControl]="editPackageForm.controls['frequency']">
                                        <option value="">Please Select</option>
                                        <option value="daily">daily</option>
                                        <option value="monthly">Monthly</option>
                                        <option value="yearly">Yearly</option>
                                        
                                </select>-->

                                <div *ngIf="editPackageForm.controls['frequency'].hasError('required') && editPackageForm.controls['frequency'].touched" class="alert alert-danger">You must include a frequency.</div>

                            </div>
                        </div>

                        <div class="form-group">
                            <label class="input-heading">Prices (In $):</label>
                            <div class="input-box">
                                <div class="community-table">
                                    <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                        <tr>
                                            <th>Timing</th>
                                            <th align="center">Morning</th>
                                            <th align="center">Noon</th>
                                            <th align="center">Evening</th>
                                        </tr>
                                        <tr class="row-bg">
                                            <td>Monday</td>
                                            <td align="center">
                                                <input type="text" name="mon_mor_price" id="mon_mor_price" class="input-fill" [formControl]="editPackageForm.controls['mon_mor_price']"/>
                                                <div *ngIf="editPackageForm.controls['mon_mor_price'].hasError('required') && editPackageForm.controls['mon_mor_price'].touched" class="alert alert-danger">This feild is required.</div>
                                            </td>
                                            <td align="center">
                                                <input type="text" name="mon_noon_price" id="mon_noon_price" class="input-fill" [formControl]="editPackageForm.controls['mon_noon_price']"/>
                                                <div *ngIf="editPackageForm.controls['mon_noon_price'].hasError('required') && editPackageForm.controls['mon_noon_price'].touched" class="alert alert-danger">This feild is required.</div>
                                            </td>
                                            <td align="center">
                                                <input type="text" name="mon_eve_price" id="mon_eve_price" class="input-fill" [formControl]="editPackageForm.controls['mon_eve_price']"/>
                                                <div *ngIf="editPackageForm.controls['mon_eve_price'].hasError('required') && editPackageForm.controls['mon_eve_price'].touched" class="alert alert-danger">This feild is required.</div>
                                            </td>
                                        </tr>
                                        <tr class="row-bg">
                                            <td>Tuesday</td>
                                            <td align="center">
                                                <input type="text" name="tue_mor_price" id="tue_mor_price" class="input-fill" [formControl]="editPackageForm.controls['tue_mor_price']"/>
                                                <div *ngIf="editPackageForm.controls['tue_mor_price'].hasError('required') && editPackageForm.controls['tue_mor_price'].touched" class="alert alert-danger">This feild is required.</div>
                                            </td>
                                            <td align="center">
                                                <input type="text" name="tue_noon_price" id="tue_noon_price" class="input-fill" [formControl]="editPackageForm.controls['tue_noon_price']"/>
                                                <div *ngIf="editPackageForm.controls['tue_mor_price'].hasError('required') && editPackageForm.controls['tue_mor_price'].touched" class="alert alert-danger">This feild is required.</div>
                                            </td>
                                            <td align="center">
                                                <input type="text" name="tue_eve_price" id="tue_eve_price" class="input-fill" [formControl]="editPackageForm.controls['tue_eve_price']"/>
                                                <div *ngIf="editPackageForm.controls['tue_mor_price'].hasError('required') && editPackageForm.controls['tue_mor_price'].touched" class="alert alert-danger">This feild is required.</div>
                                            </td>
                                        </tr>
                                        <tr class="row-bg">
                                            <td>Wednesday</td>
                                            <td align="center">
                                                <input type="text" name="wed_mor_price" id="wed_mor_price" class="input-fill" [formControl]="editPackageForm.controls['wed_mor_price']"/>
                                                <div *ngIf="editPackageForm.controls['wed_mor_price'].hasError('required') && editPackageForm.controls['wed_mor_price'].touched" class="alert alert-danger">This feild is required.</div>
                                            </td>
                                            <td align="center">
                                                <input type="text" name="wed_noon_price" id="wed_noon_price" class="input-fill" [formControl]="editPackageForm.controls['wed_noon_price']"/>
                                                <div *ngIf="editPackageForm.controls['wed_noon_price'].hasError('required') && editPackageForm.controls['wed_noon_price'].touched" class="alert alert-danger">This feild is required.</div>
                                            </td>
                                            <td align="center">
                                                <input type="text" name="wed_eve_price" id="wed_eve_price" class="input-fill" [formControl]="editPackageForm.controls['wed_eve_price']"/>
                                                <div *ngIf="editPackageForm.controls['wed_eve_price'].hasError('required') && editPackageForm.controls['wed_eve_price'].touched" class="alert alert-danger">This feild is required.</div>
                                            </td>
                                        </tr>
                                        <tr class="row-bg">
                                            <td>Thursday</td>
                                            <td align="center">
                                                <input type="text" name="thur_mor_price" id="thur_mor_price" class="input-fill" [formControl]="editPackageForm.controls['thur_mor_price']"/>
                                                <div *ngIf="editPackageForm.controls['thur_mor_price'].hasError('required') && editPackageForm.controls['thur_mor_price'].touched" class="alert alert-danger">This feild is required.</div>
                                            </td>
                                            <td align="center">
                                                <input type="text" name="thur_noon_price" id="thur_noon_price" class="input-fill" [formControl]="editPackageForm.controls['thur_noon_price']"/>
                                                <div *ngIf="editPackageForm.controls['thur_noon_price'].hasError('required') && editPackageForm.controls['thur_noon_price'].touched" class="alert alert-danger">This feild is required.</div>
                                            </td>
                                            <td align="center">
                                                <input type="text" name="thur_eve_price" id="thur_eve_price" class="input-fill" [formControl]="editPackageForm.controls['thur_eve_price']"/>
                                                <div *ngIf="editPackageForm.controls['thur_eve_price'].hasError('required') && editPackageForm.controls['thur_eve_price'].touched" class="alert alert-danger">This feild is required.</div>
                                            </td>
                                        </tr>
                                        <tr class="row-bg">
                                            <td>Friday</td>
                                            <td align="center">
                                                <input type="text" name="fri_mor_price" id="fri_mor_price" class="input-fill" [formControl]="editPackageForm.controls['fri_mor_price']"/>
                                                <div *ngIf="editPackageForm.controls['fri_mor_price'].hasError('required') && editPackageForm.controls['fri_mor_price'].touched" class="alert alert-danger">This feild is required.</div>
                                            </td>
                                            <td align="center">
                                                <input type="text" name="fri_noon_price" id="fri_noon_price" class="input-fill" [formControl]="editPackageForm.controls['fri_noon_price']"/>
                                                <div *ngIf="editPackageForm.controls['fri_noon_price'].hasError('required') && editPackageForm.controls['fri_noon_price'].touched" class="alert alert-danger">This feild is required.</div>
                                            </td>
                                            <td align="center">
                                                <input type="text" name="fri_eve_price" id="fri_eve_price" class="input-fill" [formControl]="editPackageForm.controls['fri_eve_price']"/>
                                                <div *ngIf="editPackageForm.controls['fri_eve_price'].hasError('required') && editPackageForm.controls['fri_eve_price'].touched" class="alert alert-danger">This feild is required.</div>
                                            </td>
                                        </tr>
                                        <tr class="row-bg">
                                            <td>Saturday</td>
                                            <td align="center">
                                                <input type="text" name="sat_mor_price" id="sat_mor_price" class="input-fill" [formControl]="editPackageForm.controls['sat_mor_price']"/>
                                                <div *ngIf="editPackageForm.controls['sat_mor_price'].hasError('required') && editPackageForm.controls['sat_mor_price'].touched" class="alert alert-danger">This feild is required.</div>
                                            </td>
                                            <td align="center">
                                                <input type="text" name="sat_noon_price" id="sat_noon_price" class="input-fill" [formControl]="editPackageForm.controls['sat_noon_price']"/>
                                                <div *ngIf="editPackageForm.controls['sat_noon_price'].hasError('required') && editPackageForm.controls['sat_noon_price'].touched" class="alert alert-danger">This feild is required.</div>
                                            </td>
                                            <td align="center">
                                                <input type="text" name="sat_eve_price" id="sat_eve_price" class="input-fill" [formControl]="editPackageForm.controls['sat_eve_price']"/>
                                                <div *ngIf="editPackageForm.controls['sat_eve_price'].hasError('required') && editPackageForm.controls['sat_eve_price'].touched" class="alert alert-danger">This feild is required.</div>
                                            </td>
                                        </tr>
                                        <tr class="row-bg">
                                            <td>Sunday</td>
                                            <td align="center">
                                                <input type="text" name="sun_mor_price" id="sun_mor_price" class="input-fill" [formControl]="editPackageForm.controls['sun_mor_price']"/>
                                                <div *ngIf="editPackageForm.controls['sun_mor_price'].hasError('required') && editPackageForm.controls['sun_mor_price'].touched" class="alert alert-danger">This feild is required.</div>
                                            </td>
                                            <td align="center">
                                                <input type="text" name="sun_noon_price" id="sun_noon_price" class="input-fill" [formControl]="editPackageForm.controls['sun_noon_price']"/>
                                                <div *ngIf="editPackageForm.controls['sun_noon_price'].hasError('required') && editPackageForm.controls['sun_noon_price'].touched" class="alert alert-danger">This feild is required.</div>
                                            </td>
                                            <td align="center">
                                                <input type="text" name="sun_eve_price" id="sun_eve_price" class="input-fill" [formControl]="editPackageForm.controls['sun_eve_price']"/>
                                                <div *ngIf="editPackageForm.controls['sun_eve_price'].hasError('required') && editPackageForm.controls['sun_eve_price'].touched" class="alert alert-danger">This feild is required.</div>
                                            </td>
                                        </tr>
                                    </table>
                                </div>


                            </div>
                        </div>

                        <div *ngFor="let vendors of editPackageForm.controls['vendorList'].controls; let i=index">
                            <div class="form-group" [formGroup]="vendors">
                                <label class="input-heading">vendor {{i + 1}}</label>
                                <div class="input-box">
                                    
                                    <select class="input-fill" [formControl]="vendors.controls['vendor']">
                                        <option value="">Please Select</option>
                                        <option value="{{eachVendor._id}}" *ngFor="let eachVendor of availableVendors">{{eachVendor.name}}({{eachVendor?.email}})</option>
                                    </select>
                                    <button type="button" class="bt btn-danger" (click)="removeVendor(i);">Remove</button>    
                                </div>
                                <div *ngIf="vendors.controls['vendor'].hasError('required') && vendors.controls['vendor'].touched" class="alert alert-danger">You must include a vendor.</div>
                            </div>
                        </div>
                        <div class="margin-20">
                            <a (click)="addVendor();">Add another vendor +</a>
                        </div>


                        <div *ngFor="let features of editPackageForm.controls['featureList'].controls; let i=index">
                            <div class="form-group" [formGroup]="features">
                                <label class="input-heading">Feature {{i + 1}}</label>
                                <div class="input-box">
                                    <input type="text" [formControl]="features.controls['feature']" class="input-fill">
                                    <button type="button" class="bt btn-danger" (click)="removefeature(i);">Remove</button>    
                                </div>
                                <div *ngIf="features.controls['feature'].hasError('required') && features.controls['feature'].touched" class="alert alert-danger">You must include a feature.</div>
                            </div>
                        </div>
                        <div class="margin-20">
                            <a (click)="addFeature();">Add another feature +</a>
                        </div>


                        <div class="form-group btn-wrp">

                            <!--<button class="sub-btn" (click)="updateProfile();">Submit</button>-->
                            <button type="submit" [disabled]="!editPackageForm.valid" class="sub-btn">Submit</button>
                            <button type="button" class="sub-btn cancel-btn" (click)="packagePage();">Cancel</button>

                        </div>


                    </form>

                </div>




            </div>
        </div>

    </div>
</div>
<!--inner-mid-sec-->

<!--footer-section-->
<footer></footer>
<!--end-footer-section-->