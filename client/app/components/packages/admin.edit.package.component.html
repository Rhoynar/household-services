<topnav-admin></topnav-admin>

<!--inner-mid-sec-->
<div class="inner-mid-sec white-bg">
    <div class="container">
        <div class="row">
            <div class="col-md-12 no-padding dashboard_page">

                <div class="form_block">
                    <h3>Update Package</h3>
                    <alert [alertType]="'package-error'"></alert>
                    <form [formGroup]="editPackageForm" (ngSubmit)="submitForm()">
                        <div class="form-group" [ngClass]="{'has-error':!editPackageForm.controls['title'].valid && editPackageForm.controls['title'].touched}">
                            <label class="input-heading">Name :</label>
                            <div class="input-box">
                                <input type="text" name="title" id="title" class="input-fill" [formControl]="editPackageForm.controls['title']" />

                                <div *ngIf="editPackageForm.controls['title'].hasError('required') && editPackageForm.controls['title'].touched" class="alert alert-danger">You must include a title.</div>

                            </div>

                        </div>
                        <div class="form-group">
                            <label class="input-heading">Price :</label>
                            <div class="input-box">
                                <input type="text" name="price" id="price" class="input-fill" [formControl]="editPackageForm.controls['price']" />

                                <div *ngIf="editPackageForm.controls['price'].hasError('required') && editPackageForm.controls['price'].touched" class="alert alert-danger">You must include a price.</div>


                            </div>
                        </div>
                        <div class="form-group">
                            <label class="input-heading">Postcode :</label>
                            <div class="input-box">
                                <input type="text" name="postcode" id="postcode" class="input-fill" [formControl]="editPackageForm.controls['postcode']" />


                                <div *ngIf="editPackageForm.controls['postcode'].hasError('required') && editPackageForm.controls['postcode'].touched" class="alert alert-danger">You must include a Postcode.</div>


                            </div>
                        </div>

                        <div class="form-group">
                            <label class="input-heading">Frequency :</label>
                            <div class="input-box">
                                <label class="radio-inline">
                                    <input type="radio" [formControl]="editPackageForm.controls['frequency']" id="inlineRadio1" value="daily"> daily
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" [formControl]="editPackageForm.controls['frequency']" id="inlineRadio2" value="monthly"> Monthly
                                </label>
                                <!--<select name="frequency" id="frequency" class="input-fill" [formControl]="editPackageForm.controls['frequency']">
                                        <option value="">Please Select</option>
                                        <option value="daily">daily</option>
                                        <option value="monthly">Monthly</option>
                                        <option value="yearly">Yearly</option>
                                        
                                </select>-->

                                <div *ngIf="editPackageForm.controls['frequency'].hasError('required') && editPackageForm.controls['frequency'].touched" class="alert alert-danger">You must include a frequency.</div>

                            </div>
                        </div>

                        <div *ngFor="let vendors of editPackageForm.controls['vendorList'].controls; let i=index">
                            <div class="form-group" [formGroup]="vendors">
                                <label class="input-heading">vendor {{i + 1}}</label>
                                <div class="input-box">
                                    
                                    <select class="input-fill" [formControl]="vendors.controls['vendor']">
                                        <option value="">Please Select</option>
                                        <option value="{{eachVendor._id}}" *ngFor="let eachVendor of availableVendors">{{eachVendor.name}}({{eachVendor?.email}})</option>
                                    </select>
                                    <button type="button" class="bt btn-danger" (click)="removeVendor(i);">Remove</button>    
                                </div>
                                <div *ngIf="vendors.controls['vendor'].hasError('required') && vendors.controls['vendor'].touched" class="alert alert-danger">You must include a vendor.</div>
                            </div>
                        </div>
                        <div class="margin-20">
                            <a (click)="addVendor();">Add another vendor +</a>
                        </div>


                        <div *ngFor="let features of editPackageForm.controls['featureList'].controls; let i=index">
                            <div class="form-group" [formGroup]="features">
                                <label class="input-heading">Feature {{i + 1}}</label>
                                <div class="input-box">
                                    <input type="text" [formControl]="features.controls['feature']" class="input-fill">
                                    <button type="button" class="bt btn-danger" (click)="removefeature(i);">Remove</button>    
                                </div>
                                <div *ngIf="features.controls['feature'].hasError('required') && features.controls['feature'].touched" class="alert alert-danger">You must include a feature.</div>
                            </div>
                        </div>
                        <div class="margin-20">
                            <a (click)="addFeature();">Add another feature +</a>
                        </div>


                        <div class="form-group btn-wrp">

                            <!--<button class="sub-btn" (click)="updateProfile();">Submit</button>-->
                            <button type="submit" [disabled]="!editPackageForm.valid" class="sub-btn">Submit</button>
                            <button class="sub-btn cancel-btn" (click)="packagePage();">Cancel</button>

                        </div>


                    </form>

                </div>




            </div>
        </div>

    </div>
</div>
<!--inner-mid-sec-->
<!--fotter-section-->
<footer-section></footer-section>